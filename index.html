<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tipos de datos, marcas gráficas y canales de codificación visual</title>
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css" />
    <!-- <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css" /> -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <div class="columns">
        <div class="column col-12">
          <br />
          <p class="label">VISUALIZACIÓN DE DATOS | LTD - LED - UTDT</p>

          <h2>Tipos de datos, marcas y canales de codificación visual</h2>

          <p>
            Una visualización representa datos mediante una colección de marcas gráficas, como
            barras, líneas y símbolos de puntos. Los atributos de una marca, como su posición,
            forma, tamaño o color, sirven como canales en los que podemos codificar valores de datos
            subyacentes.
          </p>
          <img src="imgs/canvas.png" alt="" />
          <p>
            Con un marco básico de tipos de datos, marcas y canales de codificación, podemos crear
            de manera concisa una amplia variedad de visualizaciones. En este cuaderno, exploramos
            cada uno de estos elementos y mostramos cómo usarlos para crear gráficos estadísticos
            personalizados.
          </p>

          <h4>Datos de desarrollo mundial</h4>
          <p>
            Visualizaremos datos globales de salud y población para países del mundo, registradas
            durante los años 1955 a 2005. Los datos fueron recopilados por la Fundación Gapminder y
            compartidos en la popular charla TED de Hans Rosling. (Si no has visto la charla, ¡te
            animamos a que la veas!)
            <br /><br />
            Primero, carguemos el conjunto de datos
            <a href="./data/data.csv">data.csv</a> con d3. El método <code>d3.csv</code> de d3 lo
            transformará en una lista de objetos. El segundo parámetro (la función
            <code>d3.autoType</code>) convertirá automáticamente los valores del conjunto de datos
            al tipo correcto.
          </p>
          <pre><code class="language-js">
  d3.csv("ruta_al_archivo/data.csv", d3.autoType).then((data) => {
    console.table(data);
  });
          </code></pre>
          <p>
            El tamaño de los datos es de 693 filas por 6 columnas. Veamos el contenido de las
            primeras 10 filas:
          </p>

          <table class="table">
            <thead>
              <tr>
                <th>year</th>
                <th>country</th>
                <th>cluster</th>
                <th>pop</th>
                <th>life_expect</th>
                <th>fertility</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1955</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>8891209</td>
                <td>30.332</td>
                <td>7.7</td>
              </tr>
              <tr>
                <td>1960</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>9829450</td>
                <td>31.997</td>
                <td>7.7</td>
              </tr>
              <tr>
                <td>1965</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>10997885</td>
                <td>34.02</td>
                <td>7.7</td>
              </tr>
              <tr>
                <td>1970</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>12430623</td>
                <td>36.088</td>
                <td>7.7</td>
              </tr>
              <tr>
                <td>1975</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>14132019</td>
                <td>38.438</td>
                <td>7.7</td>
              </tr>
              <tr>
                <td>1980</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>15112149</td>
                <td>39.854</td>
                <td>7.8</td>
              </tr>
              <tr>
                <td>1985</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>13796928</td>
                <td>40.822</td>
                <td>7.9</td>
              </tr>
              <tr>
                <td>1990</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>14669339</td>
                <td>41.674</td>
                <td>8</td>
              </tr>
              <tr>
                <td>1995</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>20881480</td>
                <td>41.763</td>
                <td>8</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>23898198</td>
                <td>42.129</td>
                <td>7.4792</td>
              </tr>
            </tbody>
          </table>
          <br /><br />
          <p>
            Para cada país (<code>country</code>) y año (<code>year</code>) (en intervalos de 5)
            tenemos medidas de fertilidad en términos del número de hijos por mujer
            (<code>fertility</code>), esperanza de vida en años ( <code>life_expect</code> ) y
            población total (<code>pop</code>). <br /><br />
            También vemos un campo de <code>cluster</code> con un código entero. ¿Qué podría
            representar esto? ¡Intentaremos resolver este misterio mientras visualizamos los datos!
            <br /><br />
            También vamos a crear una matriz de datos más pequeña, filtrada a valores solo para el
            año 2000 <a href="./data/data2000.csv">data2000.csv</a>
          </p>
          <!-- Tabla 2000 -->
          <table class="table">
            <thead>
              <tr>
                <th>year</th>
                <th>country</th>
                <th>cluster</th>
                <th>pop</th>
                <th>life_expect</th>
                <th>fertility</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>2000</td>
                <td>"Afghanistan"</td>
                <td>0</td>
                <td>23898198</td>
                <td>42.129</td>
                <td>7.4792</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Argentina"</td>
                <td>3</td>
                <td>37497728</td>
                <td>74.34</td>
                <td>2.35</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Aruba"</td>
                <td>3</td>
                <td>69539</td>
                <td>73.451</td>
                <td>2.124</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Australia"</td>
                <td>4</td>
                <td>19164620</td>
                <td>80.37</td>
                <td>1.756</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Austria"</td>
                <td>1</td>
                <td>8113413</td>
                <td>78.98</td>
                <td>1.382</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Bahamas"</td>
                <td>3</td>
                <td>290075</td>
                <td>71.068</td>
                <td>2.1111</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Bangladesh"</td>
                <td>0</td>
                <td>130406594</td>
                <td>62.013</td>
                <td>3.224</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Barbados"</td>
                <td>3</td>
                <td>273483</td>
                <td>75.97</td>
                <td>1.5</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Belgium"</td>
                <td>1</td>
                <td>10263618</td>
                <td>78.32</td>
                <td>1.638</td>
              </tr>
              <tr>
                <td>2000</td>
                <td>"Bolivia"</td>
                <td>3</td>
                <td>8152620</td>
                <td>63.883</td>
                <td>3.9585</td>
              </tr>
            </tbody>
          </table>
          <br /><br />

          <!-- Data types -->
          <h3>Tipos de datos</h3>
          <p>
            En una visualización efectiva son fundamentales los datos de entrada. Los valores de los
            datos pueden representar diferentes formas de medición. ¿Qué tipo de comparaciones
            admiten esas medidas? ¿Y qué tipos de codificaciones visuales respaldan esas
            comparaciones?
            <br /><br />

            Plot.js, la librería que utilizaremos a lo largo de la materia, infiere los tipos de
            datos. Esto significa que es importante que los datos de entrada sean del tipo correcto.
            Ejemplo, si tenemos un campo cuantitativo el dato debe ser de tipo numérico y no de tipo
            string.
            <br /><br />

            Comenzaremos observando los tipos de datos básicos en visualizaciones. Estos tipos de
            datos determinan los tipos de comparaciones que podemos hacer y, por lo tanto, guían
            nuestras decisiones de diseño de visualización.
          </p>
          <h5>Categóricos</h5>
          <p>
            Los datos <span class="label">categóricos</span>, también llamados datos
            <span class="label">nominales</span>, consisten en nombres de categorías. Con datos
            categóricos podemos comparar la igualdad de valores: ¿el valor A es igual o diferente al
            valor B? (A == B), podemos declarar "A es igual a B" o "A no es igual a B". En los datos
            de ejemplo, el campo <code>country</code> es nominal. Al visualizar datos nominales,
            debemos percibir fácilmente si los valores son iguales o diferentes: la posición, el
            tono del color (azul, rojo, verde, etc.) y la elección de distintas formas geométricas
            son opciones posibles. Por el contrario, el uso del tamaño para codificar datos
            nominales podría inducirnos a error, sugiriendo diferencias de magnitud entre valores
            que no existen.
          </p>

          <h5>Ordinales</h5>
          <p>
            Los datos <span class="label">ordinales</span> consisten en valores que tienen un orden
            específico. En este tipo de datos podemos comparar el orden de los valores: ¿el valor A
            viene antes o después del valor B? (A < B), podemos preguntar si "A es menor que B" o "A
            es mayor que B". En los datos de ejemplo, podemos tratar el campo <code>year</code> como
            ordinal. Al visualizar datos ordinales, debemos percibir una sensación de orden. Son
            apropiados la posición, el tamaño o el valor de brillo del color, mientras que el tono
            del color (que no está ordenado perceptivamente) sería menos adecuado.
          </p>

          <h5>Cuantitativos</h5>
          <p>
            Con datos <span class="label">cuantitativos</span> podemos medir diferencias numéricas
            entre valores. Existen múltiples subtipos de datos cuantitativos: <br /><br />
            Para datos de <span class="label">intervalo</span> podemos medir la distancia
            (intervalo) entre puntos: ¿cuál es la distancia del valor A al valor B? (A - B), podemos
            enunciar "A está a 12 unidades de distancia de B". <br /><br />
            Para los datos de <span class="label">relación</span>, el punto cero es significativo,
            por lo que también podemos medir proporciones o factores de escala: ¿qué proporción hay
            entre el valor A y el valor B? (A / B), podemos decir "A es el 10% de B" o "B es 7 veces
            más grande que A". <br /><br />
            En el conjunto de datos de ejemplo, el campo <code>year</code> es un intervalo
            cuantitativo (el valor del año "cero" es subjetivo), mientras que
            <code>fertility</code> y <code>life_expect</code> son campos de relación cuantitativa
            (el cero es significativo para calcular proporciones). <br /><br />
            Los valores cuantitativos se pueden visualizar mediante posición, tamaño o color (brillo
            u opacidad), entre otros canales. Un eje con una línea de base cero es esencial para las
            comparaciones proporcionales de valores de relación, pero se puede omitir para las
            comparaciones de intervalos.
          </p>

          <h5>Temporales</h5>
          <p>
            Los valores <span class="label">temporales</span> indican puntos o intervalos de tiempo.
            Este tipo es un caso especial de valores cuantitativos (marcas de fecha y hora) con una
            rica historia de convenciones (<a
              href="https://es.wikipedia.org/wiki/Calendario_gregoriano"
              >el calendario gregoriano</a
            >). <br /><br />
            Los valores temporales pueden incluir textos como "2019-01-04" o "04 de enero de 2019",
            así como fechas y horas estandarizadas como el formato de fecha y hora ISO:
            "2019-01-04T17:50:35.643Z" . No hay valores temporales en nuestro conjunto de datos ya
            que el campo <code>year</code> está codificado como un número entero. <br /><br />
            El tipo temporal en Vega-Lite admite el razonamiento sobre unidades de tiempo (año, mes,
            día, hora, etc.) y proporciona métodos para solicitar intervalos de tiempo específicos.
            Para obtener más detalles sobre los datos temporales en Vega-Lite, consulte la
            documentación de TimeUnit.
          </p>

          <h5>Resumen</h5>
          <p>
            Estos tipos de datos no se excluyen mutuamente, sino que forman una jerarquía: los datos
            ordinales admiten comparaciones nominales (igualdad), mientras que los datos
            cuantitativos admiten comparaciones ordinales (orden de rango). Además, estos tipos de
            datos no proporcionan una categorización fija. Por ejemplo, el hecho de que un campo de
            datos se represente con un número no significa que debamos tratarlo como un tipo
            cuantitativo. Podríamos interpretar un conjunto de edades (10 años, 20 años, etc.) como
            nominales (menores o mayores), ordinales (agrupados por años) o cuantitativos (calcular
            la edad promedio). Ahora examinemos cómo visualizar estos tipos de datos usando canales
            de codificación visual.
          </p>
          <hr />
          <h1>To do: convert Vega to Plot</h1>
          <h3>Canales de codificación visual</h3>

          <ul>
            <li><code>x</code>: Posición horizontal (eje x) de la marca.</li>
            <li><code>y</code>: Posición vertical (eje y) de la marca.</li>
            <li>
              <code>size</code>: Tamaño de la marca. Puede corresponder a área o longitud, según el
              tipo de marca.
            </li>
            <li>
              <code>color</code>: color de marca, especificado como
              <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value"
                >color CSS legal</a
              >.
            </li>
            <li>
              <code>opacity</code>: Marque la opacidad, que va de 0 (totalmente transparente) a 1
              (totalmente opaco).
            </li>
            <li>
              <code>shape</code>: forma de símbolo de trazado para marcas de <code>punto</code>.
            </li>
            <li>
              <code>información sobre herramientas</code>: texto de información sobre herramientas
              que se muestra al pasar el mouse sobre la marca.
            </li>
            <li>
              <code>order</code>: Marca el orden, determina el orden de puntos de línea/área y el
              orden de dibujo.
            </li>
            <li><code>column</code>: divide los datos en subparcelas alineadas horizontalmente.</li>
            <li><code>fila</code>: divida los datos en subparcelas alineadas verticalmente.</li>
          </ul>
          <!-- chart_01_x -->
          <iframe id="chart_01_x" src="chart_01_x/index.html"></iframe>
          <pre><code class="language-js">
  /* chart_01_x */
  Plot.plot({
    marks: [
      Plot.dot(data, { x: "fertility" }),
    ],
  });
          </code></pre>

          <!-- chart_02_y -->
          <iframe src="chart_02_y/index.html"></iframe>
          <!-- chart_03_x_y -->
          <iframe src="chart_03_x_y/index.html"></iframe>
          <!-- chart_04_escala -->
          <iframe src="chart_04_escala/index.html"></iframe>
          <!-- chart_05_size_a -->
          <iframe src="chart_05_size_a/index.html"></iframe>
          <!-- chart_05_size_b -->
          <iframe src="chart_05_size_b/index.html"></iframe>
          <!-- chart_06_color_a -->
          <iframe src="chart_06_color_a/index.html"></iframe>
          <!-- chart_06_color_b -->
          <iframe src="chart_06_color_b/index.html"></iframe>
          <!-- chart_06_color_c -->
          <iframe src="chart_06_color_c/index.html"></iframe>
          <!-- chart_06_color_tooltip_a -->
          <iframe src="chart_06_tooltip_a/index.html"></iframe>
          <!-- chart_06_color_tooltip_b -->
          <iframe src="chart_06_tooltip_b/index.html"></iframe>
          <!-- chart_06_color_tooltip_c -->
          <iframe src="chart_06_tooltip_c/index.html"></iframe>
          <!-- chart_07_facets_a -->
          <iframe src="chart_07_facets_a/index.html"></iframe>
          <!-- chart_07_facets_b -->
          <iframe src="chart_07_facets_b/index.html"></iframe>
          <!-- chart_08_slider -->
          <iframe src="chart_08_slider/index.html"></iframe>
          <!-- chart_10_circle_mark -->
          <iframe src="chart_10_dot_mark/index.html"></iframe>
          <!-- chart_11_tick_mark -->
          <iframe src="chart_11_tick_mark/index.html"></iframe>
          <!-- chart_12_bar_mark_a -->
          <iframe src="chart_12_bar_mark_a/index.html"></iframe>
          <!-- chart_12_bar_mark_c -->
          <iframe src="chart_12_bar_mark_c/index.html"></iframe>
          <!-- chart_13_line_mark_a -->
          <iframe src="chart_13_line_mark_a/index.html"></iframe>
          <!-- chart_13_line_mark_b -->
          <iframe src="chart_13_line_mark_b/index.html"></iframe>
          <!-- chart_13_line_mark_c -->
          <iframe src="chart_13_line_mark_c/index.html"></iframe>
          <!-- chart_14_area_mark_a -->
          <iframe src="chart_14_area_mark_a/index.html"></iframe>
          <!-- chart_14_area_mark_b -->
          <iframe src="chart_14_area_mark_b/index.html"></iframe>
          <!-- chart_14_area_mark_c -->
          <iframe src="chart_14_area_mark_c/index.html"></iframe>
          <!-- chart_14_area_mark_d -->
          <iframe src="chart_14_area_mark_d/index.html"></iframe>
          <!-- chart_14_area_mark_e -->
          <iframe src="chart_14_area_mark_e/index.html"></iframe>
          <!-- chart_14_area_mark_f -->
          <iframe src="chart_14_area_mark_f/index.html"></iframe>

          <a
            href="https://observablehq.com/@uwdata/data-types-graphical-marks-and-visual-encoding-channels?collection=@uwdata/visualization-curriculum"
            >UW Interactive Data Lab. Data Types, Graphical Marks, and Visual Encoding Channels
          </a>
        </div>
      </div>
    </div>
    <!-- <script type="text/javascript" src="https://pym.nprapps.org/pym.v1.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.2/iframeResizer.min.js"></script>
    <script>
      hljs.highlightAll();
      iFrameResize({});
      // iFrameResize();
      // var pymParent = new pym.Parent("chart_01_x", "./chart_01_x/index.html", {});
    </script>
  </body>
</html>
